{% extends "base.html" %}
{% block content %}
<div class="flex justify-between mb-6 items-center">
  <form class="flex gap-2">
    <input name="q" value="{{ q }}" placeholder="Search events..."
           class="border rounded-md px-3 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400">
    <button class="bg-indigo-600 text-white px-4 rounded-md hover:bg-indigo-700">Search</button>
  </form>
  <a href="{{ url_for('create_event') }}" 
     class="bg-green-500 px-4 py-2 text-white rounded-md shadow hover:bg-green-600">+ New Event</a>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
  {% for ev in pagination.items %}
  <div class="bg-white shadow-lg rounded-lg p-5 hover:shadow-xl transition">
    <h3 class="text-xl font-semibold text-indigo-700">{{ ev.name }}</h3>
    <p class="text-gray-600">{{ ev.date }} â€” {{ ev.location }}</p>
    <p class="mt-2 text-sm text-gray-500">{{ ev.description[:100] ~ ("..." if ev.description and ev.description|length > 100 else "") }}</p>
    <a href="{{ url_for('event_details', event_id=ev.id) }}" 
       class="mt-3 inline-block text-indigo-600 hover:underline">View Details</a>
  </div>
  {% endfor %}
</div>

<!-- Pagination -->
<div class="mt-6 flex justify-center items-center gap-4">
  {% if pagination.has_prev %}
    <a href="?page={{ pagination.prev_num }}&q={{ q }}" class="px-3 py-1 bg-gray-200 rounded-md">Prev</a>
  {% endif %}
  <span>Page {{ pagination.page }} of {{ pagination.pages }}</span>
  {% if pagination.has_next %}
    <a href="?page={{ pagination.next_num }}&q={{ q }}" class="px-3 py-1 bg-gray-200 rounded-md">Next</a>
  {% endif %}
</div>
{% endblock %}
