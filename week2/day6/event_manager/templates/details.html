{% extends "base.html" %}
{% block content %}
<div class="flex justify-between items-start">
  <!-- التفاصيل ديال الحدث -->
  <div class="flex-1 pr-6">
    <h2 class="text-2xl font-bold text-indigo-700">{{ ev.name }}</h2>
    <p class="text-gray-600">{{ ev.date }} at {{ ev.location }}</p>
    <p class="mt-2">{{ ev.description }}</p>

    <!-- Organizer -->
    {% if ev.organizer %}
    <div class="mt-4 bg-gray-50 p-3 rounded-md">
      <h3 class="font-semibold text-indigo-600">Organizer:</h3>
      <p>{{ ev.organizer.name }} — {{ ev.organizer.email or "No email" }}</p>
    </div>
    {% endif %}

    <!-- Attendees -->
    <h3 class="mt-6 font-semibold">Attendees</h3>
    <ul class="list-disc ml-5">
    {% for a in ev.attendees %}
      <li>{{ a.name }} ({{ a.email }})</li>
    {% else %}
      <li>No attendees yet.</li>
    {% endfor %}
    </ul>
  </div>

  <!-- الأزرار فـ اليمين -->
  <div class="w-48 space-y-4">
   <!-- Edit button -->
  <a href="{{ url_for('edit_event', event_id=ev.id) }}" 
    class="block w-full text-center bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md shadow">
    Edit Event
  </a>


    <!-- Delete button -->
    <form method="post" action="{{ url_for('delete_event', event_id=ev.id) }}">
      <button class="w-full bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-md shadow">
        Delete Event
      </button>
    </form>

    <!-- Register attendee -->
    <form method="post" action="{{ url_for('register_attendee', event_id=ev.id) }}" class="space-y-2">
      <select name="attendee_id" class="w-full border p-2 rounded-md">
        {% for a in attendees %}
        <option value="{{ a.id }}">{{ a.name }}</option>
        {% endfor %}
      </select>
      <button class="w-full bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-md shadow">
        Add Attendee
      </button>
    </form>
  </div>
</div>
{% endblock %}
